<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Dashboards project</title>
  <meta name="description" content="A guide to authoring books with R Markdown, including how to generate figures and tables, and insert cross-references, citations, HTML widgets, and Shiny apps in R Markdown. The book can be exported to HTML, PDF, and e-books (e.g. EPUB). The book style is customizable. You can easily write and preview the book in RStudio IDE or other editors, and host the book wherever you want (e.g. bookdown.org).">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Dashboards project" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://folkehelseinstituttet.github.io/dashboards/" />
  <meta property="og:image" content="https://folkehelseinstituttet.github.io/dashboards/images/fhi.svg" />
  <meta property="og:description" content="A guide to authoring books with R Markdown, including how to generate figures and tables, and insert cross-references, citations, HTML widgets, and Shiny apps in R Markdown. The book can be exported to HTML, PDF, and e-books (e.g. EPUB). The book style is customizable. You can easily write and preview the book in RStudio IDE or other editors, and host the book wherever you want (e.g. bookdown.org)." />
  <meta name="github-repo" content="folkehelseinstituttet/dashboards" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Dashboards project" />
  
  <meta name="twitter:description" content="A guide to authoring books with R Markdown, including how to generate figures and tables, and insert cross-references, citations, HTML widgets, and Shiny apps in R Markdown. The book can be exported to HTML, PDF, and e-books (e.g. EPUB). The book style is customizable. You can easily write and preview the book in RStudio IDE or other editors, and host the book wherever you want (e.g. bookdown.org)." />
  <meta name="twitter:image" content="https://folkehelseinstituttet.github.io/dashboards/images/fhi.svg" />

<meta name="author" content="Richard White">


<meta name="date" content="2018-11-09">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="introduction.html">
<link rel="next" href="travis.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Dashboards</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#executive-summary"><i class="fa fa-check"></i><b>1.1</b> Executive summary</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#what-is-an-automated-analysis"><i class="fa fa-check"></i><b>1.2</b> What is an automated analysis?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#why-not-have-one-project-for-each-automated-analysis"><i class="fa fa-check"></i><b>1.3</b> Why not have one project for each automated analysis?</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#important-repositories"><i class="fa fa-check"></i><b>1.4</b> Important repositories</a><ul>
<li class="chapter" data-level="1.4.1" data-path="introduction.html"><a href="introduction.html#infrastructure"><i class="fa fa-check"></i><b>1.4.1</b> Infrastructure</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction.html"><a href="introduction.html#automated-analyses-r-packages"><i class="fa fa-check"></i><b>1.4.2</b> Automated analyses R packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="umbrella.html"><a href="umbrella.html"><i class="fa fa-check"></i><b>2</b> Umbrella Infrastructure</a><ul>
<li class="chapter" data-level="2.1" data-path="umbrella.html"><a href="umbrella.html#physical-hardware-and-subscriptions"><i class="fa fa-check"></i><b>2.1</b> Physical Hardware and Subscriptions</a><ul>
<li class="chapter" data-level="2.1.1" data-path="umbrella.html"><a href="umbrella.html#requirements---smhb"><i class="fa fa-check"></i><b>2.1.1</b> Requirements - smhb</a></li>
<li class="chapter" data-level="2.1.2" data-path="umbrella.html"><a href="umbrella.html#requirements---linux"><i class="fa fa-check"></i><b>2.1.2</b> Requirements - linux</a></li>
<li class="chapter" data-level="2.1.3" data-path="umbrella.html"><a href="umbrella.html#requirements---dev"><i class="fa fa-check"></i><b>2.1.3</b> Requirements - dev</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="umbrella.html"><a href="umbrella.html#configuration-scripts-etc."><i class="fa fa-check"></i><b>2.2</b> Configuration, Scripts, etc.</a><ul>
<li class="chapter" data-level="2.2.1" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbindev_down.sh"><i class="fa fa-check"></i><b>2.2.1</b> $DASHBOARDS_FOLDER/dashboards_control/bin/dev_down.sh</a></li>
<li class="chapter" data-level="2.2.2" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbindev_up.sh"><i class="fa fa-check"></i><b>2.2.2</b> $DASHBOARDS_FOLDER/dashboards_control/bin/dev_up.sh</a></li>
<li class="chapter" data-level="2.2.3" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbindocker_build.sh"><i class="fa fa-check"></i><b>2.2.3</b> $DASHBOARDS_FOLDER/dashboards_control/bin/docker_build.sh</a></li>
<li class="chapter" data-level="2.2.4" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbindocker_login.sh"><i class="fa fa-check"></i><b>2.2.4</b> $DASHBOARDS_FOLDER/dashboards_control/bin/docker_login.sh</a></li>
<li class="chapter" data-level="2.2.5" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbindocker_push_test_to_prod.sh"><i class="fa fa-check"></i><b>2.2.5</b> $DASHBOARDS_FOLDER/dashboards_control/bin/docker_push_test_to_prod.sh</a></li>
<li class="chapter" data-level="2.2.6" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbinprod_down.sh"><i class="fa fa-check"></i><b>2.2.6</b> $DASHBOARDS_FOLDER/dashboards_control/bin/prod_down.sh</a></li>
<li class="chapter" data-level="2.2.7" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbinprod_up.sh"><i class="fa fa-check"></i><b>2.2.7</b> $DASHBOARDS_FOLDER/dashboards_control/bin/prod_up.sh</a></li>
<li class="chapter" data-level="2.2.8" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbinprod_update.sh"><i class="fa fa-check"></i><b>2.2.8</b> $DASHBOARDS_FOLDER/dashboards_control/bin/prod_update.sh</a></li>
<li class="chapter" data-level="2.2.9" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbinpublic.sh"><i class="fa fa-check"></i><b>2.2.9</b> $DASHBOARDS_FOLDER/dashboards_control/bin/public.sh</a></li>
<li class="chapter" data-level="2.2.10" data-path="umbrella.html"><a href="umbrella.html#test_noispiah"><i class="fa fa-check"></i><b>2.2.10</b> $DASHBOARDS_FOLDER/dashboards_control/bin/test_noispiah.sh</a></li>
<li class="chapter" data-level="2.2.11" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbintest_normomo.sh"><i class="fa fa-check"></i><b>2.2.11</b> $DASHBOARDS_FOLDER/dashboards_control/bin/test_normomo.sh</a></li>
<li class="chapter" data-level="2.2.12" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbintest_sykdomspuls_log.sh"><i class="fa fa-check"></i><b>2.2.12</b> $DASHBOARDS_FOLDER/dashboards_control/bin/test_sykdomspuls_log.sh</a></li>
<li class="chapter" data-level="2.2.13" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbintest_sykdomspuls_pdf.sh"><i class="fa fa-check"></i><b>2.2.13</b> $DASHBOARDS_FOLDER/dashboards_control/bin/test_sykdomspuls_pdf.sh</a></li>
<li class="chapter" data-level="2.2.14" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbintest_sykdomspuls.sh"><i class="fa fa-check"></i><b>2.2.14</b> $DASHBOARDS_FOLDER/dashboards_control/bin/test_sykdomspuls.sh</a></li>
<li class="chapter" data-level="2.2.15" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_radd_autofs.sh"><i class="fa fa-check"></i><b>2.2.15</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/add_autofs.sh</a></li>
<li class="chapter" data-level="2.2.16" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_radd_cron.sh"><i class="fa fa-check"></i><b>2.2.16</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/add_cron.sh</a></li>
<li class="chapter" data-level="2.2.17" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_rauto.mounts"><i class="fa fa-check"></i><b>2.2.17</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/auto.mounts</a></li>
<li class="chapter" data-level="2.2.18" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_rcrontab"><i class="fa fa-check"></i><b>2.2.18</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/crontab</a></li>
<li class="chapter" data-level="2.2.19" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_rdockerfile"><i class="fa fa-check"></i><b>2.2.19</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/Dockerfile</a></li>
<li class="chapter" data-level="2.2.20" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_remails_sykdomspuls_alert_test.xlsx"><i class="fa fa-check"></i><b>2.2.20</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/emails_sykdomspuls_alert_test.xlsx</a></li>
<li class="chapter" data-level="2.2.21" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_remails_sykdomspuls_alert.xlsx"><i class="fa fa-check"></i><b>2.2.21</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/emails_sykdomspuls_alert.xlsx</a></li>
<li class="chapter" data-level="2.2.22" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_remails.xlsx"><i class="fa fa-check"></i><b>2.2.22</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/emails.xlsx</a></li>
<li class="chapter" data-level="2.2.23" data-path="umbrella.html"><a href="umbrella.html#httroauth"><i class="fa fa-check"></i><b>2.2.23</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/httr-oauth_2017_09_17</a></li>
<li class="chapter" data-level="2.2.24" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_rmail.json"><i class="fa fa-check"></i><b>2.2.24</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/mail.json</a></li>
<li class="chapter" data-level="2.2.25" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_rrepo-key"><i class="fa fa-check"></i><b>2.2.25</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/repo-key</a></li>
<li class="chapter" data-level="2.2.26" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_rsecret.sh"><i class="fa fa-check"></i><b>2.2.26</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/secret.sh</a></li>
<li class="chapter" data-level="2.2.27" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredocker-compose-api.yml"><i class="fa fa-check"></i><b>2.2.27</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/docker-compose-api.yml</a></li>
<li class="chapter" data-level="2.2.28" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredocker-compose-dev.yml"><i class="fa fa-check"></i><b>2.2.28</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/docker-compose-dev.yml</a></li>
<li class="chapter" data-level="2.2.29" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredocker-compose-prod.yml"><i class="fa fa-check"></i><b>2.2.29</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/docker-compose-prod.yml</a></li>
<li class="chapter" data-level="2.2.30" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredocker-compose-test.yml"><i class="fa fa-check"></i><b>2.2.30</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/docker-compose-test.yml</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="umbrella.html"><a href="umbrella.html#analysisdocker"><i class="fa fa-check"></i><b>2.3</b> Analysis Docker Image</a><ul>
<li class="chapter" data-level="2.3.1" data-path="umbrella.html"><a href="umbrella.html#images"><i class="fa fa-check"></i><b>2.3.1</b> Images</a></li>
<li class="chapter" data-level="2.3.2" data-path="umbrella.html"><a href="umbrella.html#automated-analysis-r-packages"><i class="fa fa-check"></i><b>2.3.2</b> Automated Analysis R Packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="travis.html"><a href="travis.html"><i class="fa fa-check"></i><b>3</b> travis</a><ul>
<li class="chapter" data-level="3.0.1" data-path="travis.html"><a href="travis.html#internalfilestructure"><i class="fa fa-check"></i><b>3.0.1</b> File Structure</a></li>
<li class="chapter" data-level="3.0.2" data-path="travis.html"><a href="travis.html#cron"><i class="fa fa-check"></i><b>3.0.2</b> cron</a></li>
<li class="chapter" data-level="3.0.3" data-path="travis.html"><a href="travis.html#autofs"><i class="fa fa-check"></i><b>3.0.3</b> autofs</a></li>
<li class="chapter" data-level="3.1" data-path="travis.html"><a href="travis.html#reverse-proxy-docker-image"><i class="fa fa-check"></i><b>3.1</b> Reverse Proxy Docker Image</a></li>
<li class="chapter" data-level="3.2" data-path="travis.html"><a href="travis.html#dockercompose"><i class="fa fa-check"></i><b>3.2</b> Docker Compose</a></li>
<li class="chapter" data-level="3.3" data-path="travis.html"><a href="travis.html#production-computer---smhb"><i class="fa fa-check"></i><b>3.3</b> Production Computer - smhb</a><ul>
<li class="chapter" data-level="3.3.1" data-path="travis.html"><a href="travis.html#crontab"><i class="fa fa-check"></i><b>3.3.1</b> crontab</a></li>
<li class="chapter" data-level="3.3.2" data-path="travis.html"><a href="travis.html#file-structure"><i class="fa fa-check"></i><b>3.3.2</b> File Structure</a></li>
<li class="chapter" data-level="3.3.3" data-path="travis.html"><a href="travis.html#explanation"><i class="fa fa-check"></i><b>3.3.3</b> Explanation</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="travis.html"><a href="travis.html#integrationtesting"><i class="fa fa-check"></i><b>3.4</b> Integration Testing Computer - linux</a><ul>
<li class="chapter" data-level="3.4.1" data-path="travis.html"><a href="travis.html#file-structure-1"><i class="fa fa-check"></i><b>3.4.1</b> File Structure</a></li>
<li class="chapter" data-level="3.4.2" data-path="travis.html"><a href="travis.html#explanation-1"><i class="fa fa-check"></i><b>3.4.2</b> Explanation</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="travis.html"><a href="travis.html#travis"><i class="fa fa-check"></i><b>3.5</b> Unit Testing - travis-ci</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-packages.html"><a href="r-packages.html"><i class="fa fa-check"></i><b>4</b> R packages</a><ul>
<li class="chapter" data-level="4.1" data-path="r-packages.html"><a href="r-packages.html#generic"><i class="fa fa-check"></i><b>4.1</b> Generic</a><ul>
<li class="chapter" data-level="4.1.1" data-path="r-packages.html"><a href="r-packages.html#overview"><i class="fa fa-check"></i><b>4.1.1</b> Overview</a></li>
<li class="chapter" data-level="4.1.2" data-path="r-packages.html"><a href="r-packages.html#requirements"><i class="fa fa-check"></i><b>4.1.2</b> Requirements</a></li>
<li class="chapter" data-level="4.1.3" data-path="r-packages.html"><a href="r-packages.html#deployment-via-travis-ci-and-drat"><i class="fa fa-check"></i><b>4.1.3</b> Deployment via travis-ci and drat</a></li>
<li class="chapter" data-level="4.1.4" data-path="r-packages.html"><a href="r-packages.html#integration-with-the-local-file-system"><i class="fa fa-check"></i><b>4.1.4</b> Integration with the local file system</a></li>
<li class="chapter" data-level="4.1.5" data-path="r-packages.html"><a href="r-packages.html#RunProcess"><i class="fa fa-check"></i><b>4.1.5</b> inst/src/RunProcess.R</a></li>
<li class="chapter" data-level="4.1.6" data-path="r-packages.html"><a href="r-packages.html#instsrcruntest.r"><i class="fa fa-check"></i><b>4.1.6</b> inst/src/RunTest.R</a></li>
<li class="chapter" data-level="4.1.7" data-path="r-packages.html"><a href="r-packages.html#Runsh"><i class="fa fa-check"></i><b>4.1.7</b> inst/bin/0_run.sh</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="contributingquickstart.html"><a href="contributingquickstart.html"><i class="fa fa-check"></i><b>5</b> Contributing/Quickstart</a><ul>
<li class="chapter" data-level="5.1" data-path="contributingquickstart.html"><a href="contributingquickstart.html#quickstart"><i class="fa fa-check"></i><b>5.1</b> Quickstart</a></li>
<li class="chapter" data-level="5.2" data-path="contributingquickstart.html"><a href="contributingquickstart.html#newautomatedanalysis"><i class="fa fa-check"></i><b>5.2</b> New Automated Analysis</a></li>
<li class="chapter" data-level="5.3" data-path="contributingquickstart.html"><a href="contributingquickstart.html#development-guidelines"><i class="fa fa-check"></i><b>5.3</b> Development guidelines</a></li>
<li class="chapter" data-level="5.4" data-path="contributingquickstart.html"><a href="contributingquickstart.html#code-style"><i class="fa fa-check"></i><b>5.4</b> Code style</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.fhi.no/" target="blank">www.fhi.no</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Dashboards project</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="umbrella" class="section level1">
<h1><span class="header-section-number">2</span> Umbrella Infrastructure</h1>
<div id="physical-hardware-and-subscriptions" class="section level2">
<h2><span class="header-section-number">2.1</span> Physical Hardware and Subscriptions</h2>
<ul>
<li>One Github organization (<a href="http://github.com/folkehelseinstituttet/" class="uri">http://github.com/folkehelseinstituttet/</a>)</li>
<li>One Github team (<a href="https://github.com/orgs/folkehelseinstituttet/teams/dashboards" class="uri">https://github.com/orgs/folkehelseinstituttet/teams/dashboards</a>)</li>
<li>One <a href="https://github.com/eddelbuettel/drat">drat</a> repository (<a href="https://folkehelseinstituttet.github.io/drat/" class="uri">https://folkehelseinstituttet.github.io/drat/</a>)</li>
<li>One travis-ci.org account (<a href="http://travis-ci.org/folkehelseinstituttet" class="uri">http://travis-ci.org/folkehelseinstituttet</a>)</li>
<li>One travis-ci.com account (<a href="http://travis-ci.com/folkehelseinstituttet" class="uri">http://travis-ci.com/folkehelseinstituttet</a>)</li>
<li>One Docker hub account (<a href="http://hub.docker.com/u/raw996/" class="uri">http://hub.docker.com/u/raw996/</a>)</li>
<li>At least three computers:
<ol style="list-style-type: decimal">
<li>Production linux computer <code>smhb</code></li>
<li>Integration testing linux computer <code>linux</code></li>
<li>Development linux computers (1 per person)</li>
</ol></li>
</ul>
<div id="requirements---smhb" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Requirements - smhb</h3>
<ul>
<li>Git</li>
<li>Docker Engine - Community (<a href="https://www.docker.com/products/docker-engine" class="uri">https://www.docker.com/products/docker-engine</a>)</li>
</ul>
</div>
<div id="requirements---linux" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Requirements - linux</h3>
<ul>
<li>Git</li>
<li>Docker Engine - Community (<a href="https://www.docker.com/products/docker-engine" class="uri">https://www.docker.com/products/docker-engine</a>)</li>
<li>Jenkins installed via a Docker container (<a href="http://jenkins.io" class="uri">http://jenkins.io</a>)</li>
</ul>
</div>
<div id="requirements---dev" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Requirements - dev</h3>
<ul>
<li>Git</li>
<li>Docker Engine - Community (<a href="https://www.docker.com/products/docker-engine" class="uri">https://www.docker.com/products/docker-engine</a>)</li>
</ul>
</div>
</div>
<div id="configuration-scripts-etc." class="section level2">
<h2><span class="header-section-number">2.2</span> Configuration, Scripts, etc.</h2>
<p>Most of the bash scripts, Docker files, passwords, etc. are all hosted at the private Github repository <a href="https://github.com/raubreywhite/dashboards_control">raubreywhite/dashboards_control</a>.</p>
<pre><code>- $DASHBOARDS_FOLDER/dashboards_control/
  |-- bin/
    |-- dev_down.sh
    |-- dev_up.sh
    |-- docker_build.sh
    |-- docker_login.sh
    |-- docker_push_test_to_prod.sh
    |-- prod_down.sh
    |-- prod_up.sh
    |-- prod_update.sh
    |-- public.sh
    |-- test_noispiah.sh
    |-- test_normomo.sh
    |-- test_sykdomspuls_log.sh
    |-- test_sykdomspuls_pdf.sh
    |-- test_sykdomspuls.sh
  |-- infrastructure/
    |-- dashboards_nginx/
    |-- dashboards_r/
      |-- add_autofs.sh
      |-- add_cron.sh
      |-- auto.mounts
      |-- crontab
      |-- Dockerfile
      |-- emails_sykdomspuls_alert_test.xlsx
      |-- emails_sykdomspuls_alert.xlsx
      |-- emails.xlsx
      |-- httr-oauth_2017_09_17
      |-- mail.json
      |-- repo-key
      |-- secret.sh
    |-- dashboards_shiny/
    |-- docker-compose-api.yml
    |-- docker-compose-dev.yml
    |-- docker-compose-prod.yml
    |-- docker-compose-test.yml</code></pre>
<div id="dashboards_folderdashboards_controlbindev_down.sh" class="section level3">
<h3><span class="header-section-number">2.2.1</span> $DASHBOARDS_FOLDER/dashboards_control/bin/dev_down.sh</h3>
<p>Dev script to shut down docker-compose</p>
</div>
<div id="dashboards_folderdashboards_controlbindev_up.sh" class="section level3">
<h3><span class="header-section-number">2.2.2</span> $DASHBOARDS_FOLDER/dashboards_control/bin/dev_up.sh</h3>
<p>Dev script to start docker-compose</p>
</div>
<div id="dashboards_folderdashboards_controlbindocker_build.sh" class="section level3">
<h3><span class="header-section-number">2.2.3</span> $DASHBOARDS_FOLDER/dashboards_control/bin/docker_build.sh</h3>
<p>Builds all relevant Docker containers</p>
</div>
<div id="dashboards_folderdashboards_controlbindocker_login.sh" class="section level3">
<h3><span class="header-section-number">2.2.4</span> $DASHBOARDS_FOLDER/dashboards_control/bin/docker_login.sh</h3>
<p>Logs in to docker-hub</p>
</div>
<div id="dashboards_folderdashboards_controlbindocker_push_test_to_prod.sh" class="section level3">
<h3><span class="header-section-number">2.2.5</span> $DASHBOARDS_FOLDER/dashboards_control/bin/docker_push_test_to_prod.sh</h3>
<p>Retags ‘test’ Docker containers to ‘production’ and pushs them to docker-hub</p>
</div>
<div id="dashboards_folderdashboards_controlbinprod_down.sh" class="section level3">
<h3><span class="header-section-number">2.2.6</span> $DASHBOARDS_FOLDER/dashboards_control/bin/prod_down.sh</h3>
<p>Only to be used on the production computer <code>smhb</code>. This bash script stops the docker-compose.</p>
<p>Note: This script is not used.</p>
</div>
<div id="dashboards_folderdashboards_controlbinprod_up.sh" class="section level3">
<h3><span class="header-section-number">2.2.7</span> $DASHBOARDS_FOLDER/dashboards_control/bin/prod_up.sh</h3>
<p>Only to be used on the production computer <code>smhb</code>. This bash script starts up the docker-compose.</p>
<p>Note: This script is not used.</p>
</div>
<div id="dashboards_folderdashboards_controlbinprod_update.sh" class="section level3">
<h3><span class="header-section-number">2.2.8</span> $DASHBOARDS_FOLDER/dashboards_control/bin/prod_update.sh</h3>
<p>Only to be used on the production computer <code>smhb</code>. This bash script:</p>
<ol style="list-style-type: decimal">
<li>Removes unused Docker container/images (important so we don’t run out of space)</li>
<li>Runs some scripts required for network access</li>
<li>Pulls the latest version of <a href="https://github.com/raubreywhite/dashboards_control">raubreywhite/dashboards_control</a></li>
<li>Stops the <a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/docker-compose-prod.yml">docker-compose-prod.yml</a></li>
<li>Pulls the latest production images for:
<ul>
<li><a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_r/Dockerfile">raw996/dashboards_r:production</a></li>
<li><a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_nginx/Dockerfile">raw996/dashboards_nginx:production</a></li>
<li><a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_shiny/Dockerfile">raw996/dashboards_shiny:production</a></li>
</ul></li>
<li>Starts the <a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/docker-compose-prod.yml">docker-compose-prod.yml</a></li>
</ol>
</div>
<div id="dashboards_folderdashboards_controlbinpublic.sh" class="section level3">
<h3><span class="header-section-number">2.2.9</span> $DASHBOARDS_FOLDER/dashboards_control/bin/public.sh</h3>
<p>Lists a bunch of environmental variables</p>
</div>
<div id="test_noispiah" class="section level3">
<h3><span class="header-section-number">2.2.10</span> $DASHBOARDS_FOLDER/dashboards_control/bin/test_noispiah.sh</h3>
<p>Runs <code>/r/noispiah/src/RunTest.R</code> inside <a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_r/Dockerfile">raw996/dashboards_r:test</a></p>
<p>Note: This script is generally only run by <code>Jenkins</code> on <code>linux</code> as the integration testing for <a href="https://folkehelseinstituttet.github.io/dashboards_noispiah/">noispiah</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlbintest_normomo.sh" class="section level3">
<h3><span class="header-section-number">2.2.11</span> $DASHBOARDS_FOLDER/dashboards_control/bin/test_normomo.sh</h3>
<p>Runs <code>/r/normomo/src/RunTest.R</code> inside <a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_r/Dockerfile">raw996/dashboards_r:test</a></p>
<p>Note: This script is generally only run by <code>Jenkins</code> on <code>linux</code> as the integration testing for <a href="https://folkehelseinstituttet.github.io/dashboards_normomo/">normomo</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlbintest_sykdomspuls_log.sh" class="section level3">
<h3><span class="header-section-number">2.2.12</span> $DASHBOARDS_FOLDER/dashboards_control/bin/test_sykdomspuls_log.sh</h3>
<p>Runs <code>/r/sykdomspulslog/src/RunTest.R</code> inside <a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_r/Dockerfile">raw996/dashboards_r:test</a></p>
<p>Note: This script is generally only run by <code>Jenkins</code> on <code>linux</code> as the integration testing for <a href="https://folkehelseinstituttet.github.io/dashboards_sykdomspuls_log/">sykdomspuls_log</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlbintest_sykdomspuls_pdf.sh" class="section level3">
<h3><span class="header-section-number">2.2.13</span> $DASHBOARDS_FOLDER/dashboards_control/bin/test_sykdomspuls_pdf.sh</h3>
<p>Runs <code>/r/sykdomspulspdf/src/RunTest.R</code> inside <a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_r/Dockerfile">raw996/dashboards_r:test</a></p>
<p>Note: This script is generally only run by <code>Jenkins</code> on <code>linux</code> as the integration testing for <a href="https://folkehelseinstituttet.github.io/dashboards_sykdomspuls_pdf/">sykdomspuls_pdf</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlbintest_sykdomspuls.sh" class="section level3">
<h3><span class="header-section-number">2.2.14</span> $DASHBOARDS_FOLDER/dashboards_control/bin/test_sykdomspuls.sh</h3>
<p>Runs <code>/r/sykdomspuls/src/RunTest.R</code> inside <a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_r/Dockerfile">raw996/dashboards_r:test</a></p>
<p>Note: This script is generally only run by <code>Jenkins</code> on <code>linux</code> as the integration testing for <a href="https://folkehelseinstituttet.github.io/dashboards_sykdomspuls/">sykdomspuls</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredashboards_radd_autofs.sh" class="section level3">
<h3><span class="header-section-number">2.2.15</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/add_autofs.sh</h3>
<p>See <a href="travis.html#autofs">autofs</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredashboards_radd_cron.sh" class="section level3">
<h3><span class="header-section-number">2.2.16</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/add_cron.sh</h3>
<p>See <a href="travis.html#cron">cron</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredashboards_rauto.mounts" class="section level3">
<h3><span class="header-section-number">2.2.17</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/auto.mounts</h3>
<p>See <a href="travis.html#autofs">autofs</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredashboards_rcrontab" class="section level3">
<h3><span class="header-section-number">2.2.18</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/crontab</h3>
<p>See <a href="travis.html#cron">cron</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredashboards_rdockerfile" class="section level3">
<h3><span class="header-section-number">2.2.19</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/Dockerfile</h3>
<p>See <a href="umbrella.html#analysisdocker">here</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredashboards_remails_sykdomspuls_alert_test.xlsx" class="section level3">
<h3><span class="header-section-number">2.2.20</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/emails_sykdomspuls_alert_test.xlsx</h3>
<p>A list of email addresses used in <a href="https://folkehelseinstituttet.github.io/dashboards_sykdomspuls/">sykdomspuls</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredashboards_remails_sykdomspuls_alert.xlsx" class="section level3">
<h3><span class="header-section-number">2.2.21</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/emails_sykdomspuls_alert.xlsx</h3>
<p>A list of email addresses used in <a href="https://folkehelseinstituttet.github.io/dashboards_sykdomspuls/">sykdomspuls</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredashboards_remails.xlsx" class="section level3">
<h3><span class="header-section-number">2.2.22</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/emails.xlsx</h3>
<p>A list of email addresses used in many projects.</p>
</div>
<div id="httroauth" class="section level3">
<h3><span class="header-section-number">2.2.23</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/httr-oauth_2017_09_17</h3>
<p>The authorization file for the <a href="mailto:dashboardsfhi@gmail.com">dashboardsfhi@gmail.com</a>. This probably needs to be refreshed every year??</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredashboards_rmail.json" class="section level3">
<h3><span class="header-section-number">2.2.24</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/mail.json</h3>
<p>Related to <a href="umbrella.html#httroauth">httr-oauth</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredashboards_rrepo-key" class="section level3">
<h3><span class="header-section-number">2.2.25</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/repo-key</h3>
<p>The repo-key for downloading the private <a href="https://github.com/raubreywhite/dashboards_control">raubreywhite/dashboards_control</a> repository.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredashboards_rsecret.sh" class="section level3">
<h3><span class="header-section-number">2.2.26</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/secret.sh</h3>
<p>Passwords.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredocker-compose-api.yml" class="section level3">
<h3><span class="header-section-number">2.2.27</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/docker-compose-api.yml</h3>
<p>Docker-compose file used for testing the <a href="https://github.com/folkehelseinstituttet/dashboards_sykdomspuls/blob/master/inst/src/RunAPI.R">API</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredocker-compose-dev.yml" class="section level3">
<h3><span class="header-section-number">2.2.28</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/docker-compose-dev.yml</h3>
<p>Docker-compose file used for development. See <a href="travis.html#dockercompose">here</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredocker-compose-prod.yml" class="section level3">
<h3><span class="header-section-number">2.2.29</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/docker-compose-prod.yml</h3>
<p>Docker-compose file used for the production computer. See <a href="travis.html#dockercompose">here</a>.</p>
</div>
<div id="dashboards_folderdashboards_controlinfrastructuredocker-compose-test.yml" class="section level3">
<h3><span class="header-section-number">2.2.30</span> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/docker-compose-test.yml</h3>
<p>Docker-compose file used for integration testing of <code>Jenkins</code> on <code>linux</code>. See <a href="travis.html#dockercompose">here</a>.</p>
</div>
</div>
<div id="analysisdocker" class="section level2">
<h2><span class="header-section-number">2.3</span> Analysis Docker Image</h2>
<div id="images" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Images</h3>
<p>Our analysis Docker images are based off the <a href="https://rocker-project.org">rocker</a> images. More specifically, the <a href="https://hub.docker.com/r/rocker/verse/">rocker/verse:3.5.0</a> image.</p>
<p>This Docker image is then expanded upon by a separate Dockerfile <a href="https://github.com/raubreywhite/docker/blob/master/dhadley/Dockerfile">raw996/dhadley</a>. This Docker image is automatically rebuilt by <code>Jenkins</code> on <code>linux</code> whenever the repository is updated. The resultant Docker image is pushed to <a href="https://hub.docker.com/r/raw996/dhadley/">raw996/dhadley:3.5.0</a>. This image is a general-purpose analysis image, with no sensitive information in it.</p>
<p>This Docker image is then expanded upon by a separate Dockerfile <a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_r/Dockerfile">raw996/dashboards_r</a>. This Docker image is automatically rebuilt by <code>Jenkins</code> on <code>linux</code> whenever the repository is updated. The resultant Docker image is locally tagged as <code>raw996/dashboards_r:test</code> and then a number of integration tests are performed on it. If the integration tests are passed, then the Docker image is retagged and pushed to <a href="https://hub.docker.com/r/raw996/dashboards_r/">raw996/dashboards_r:production</a>. This image is private as it contains passwords and email addresses.</p>
</div>
<div id="automated-analysis-r-packages" class="section level3">
<h3><span class="header-section-number">2.3.2</span> Automated Analysis R Packages</h3>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="travis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["website.pdf", "website.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>

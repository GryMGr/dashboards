<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Dashboards project</title>
  <meta name="description" content="A guide to authoring books with R Markdown, including how to generate figures and tables, and insert cross-references, citations, HTML widgets, and Shiny apps in R Markdown. The book can be exported to HTML, PDF, and e-books (e.g. EPUB). The book style is customizable. You can easily write and preview the book in RStudio IDE or other editors, and host the book wherever you want (e.g. bookdown.org).">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Dashboards project" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://folkehelseinstituttet.github.io/dashboards/" />
  <meta property="og:image" content="https://folkehelseinstituttet.github.io/dashboards/images/fhi.svg" />
  <meta property="og:description" content="A guide to authoring books with R Markdown, including how to generate figures and tables, and insert cross-references, citations, HTML widgets, and Shiny apps in R Markdown. The book can be exported to HTML, PDF, and e-books (e.g. EPUB). The book style is customizable. You can easily write and preview the book in RStudio IDE or other editors, and host the book wherever you want (e.g. bookdown.org)." />
  <meta name="github-repo" content="folkehelseinstituttet/dashboards" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Dashboards project" />
  
  <meta name="twitter:description" content="A guide to authoring books with R Markdown, including how to generate figures and tables, and insert cross-references, citations, HTML widgets, and Shiny apps in R Markdown. The book can be exported to HTML, PDF, and e-books (e.g. EPUB). The book style is customizable. You can easily write and preview the book in RStudio IDE or other editors, and host the book wherever you want (e.g. bookdown.org)." />
  <meta name="twitter:image" content="https://folkehelseinstituttet.github.io/dashboards/images/fhi.svg" />

<meta name="author" content="Richard White">


<meta name="date" content="2018-11-12">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="r-packages.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Dashboards</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#executive-summary"><i class="fa fa-check"></i><b>1.1</b> Executive summary</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#what-is-an-automated-analysis"><i class="fa fa-check"></i><b>1.2</b> What is an automated analysis?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#why-not-have-one-project-for-each-automated-analysis"><i class="fa fa-check"></i><b>1.3</b> Why not have one project for each automated analysis?</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#important-repositories"><i class="fa fa-check"></i><b>1.4</b> Important repositories</a><ul>
<li class="chapter" data-level="1.4.1" data-path="introduction.html"><a href="introduction.html#infrastructure"><i class="fa fa-check"></i><b>1.4.1</b> Infrastructure</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction.html"><a href="introduction.html#automated-analyses-r-packages"><i class="fa fa-check"></i><b>1.4.2</b> Automated analyses R packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="umbrella.html"><a href="umbrella.html"><i class="fa fa-check"></i><b>2</b> Umbrella Infrastructure</a><ul>
<li class="chapter" data-level="2.1" data-path="umbrella.html"><a href="umbrella.html#physical-hardware-and-subscriptions"><i class="fa fa-check"></i><b>2.1</b> Physical Hardware and Subscriptions</a><ul>
<li class="chapter" data-level="2.1.1" data-path="umbrella.html"><a href="umbrella.html#requirements---smhb"><i class="fa fa-check"></i><b>2.1.1</b> Requirements - smhb</a></li>
<li class="chapter" data-level="2.1.2" data-path="umbrella.html"><a href="umbrella.html#requirements---linux"><i class="fa fa-check"></i><b>2.1.2</b> Requirements - linux</a></li>
<li class="chapter" data-level="2.1.3" data-path="umbrella.html"><a href="umbrella.html#requirements---dev"><i class="fa fa-check"></i><b>2.1.3</b> Requirements - dev</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="umbrella.html"><a href="umbrella.html#configuration-scripts-etc."><i class="fa fa-check"></i><b>2.2</b> Configuration, Scripts, etc.</a><ul>
<li class="chapter" data-level="2.2.1" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbindev_down.sh"><i class="fa fa-check"></i><b>2.2.1</b> $DASHBOARDS_FOLDER/dashboards_control/bin/dev_down.sh</a></li>
<li class="chapter" data-level="2.2.2" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbindev_up.sh"><i class="fa fa-check"></i><b>2.2.2</b> $DASHBOARDS_FOLDER/dashboards_control/bin/dev_up.sh</a></li>
<li class="chapter" data-level="2.2.3" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbindocker_build.sh"><i class="fa fa-check"></i><b>2.2.3</b> $DASHBOARDS_FOLDER/dashboards_control/bin/docker_build.sh</a></li>
<li class="chapter" data-level="2.2.4" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbindocker_login.sh"><i class="fa fa-check"></i><b>2.2.4</b> $DASHBOARDS_FOLDER/dashboards_control/bin/docker_login.sh</a></li>
<li class="chapter" data-level="2.2.5" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbindocker_push_test_to_prod.sh"><i class="fa fa-check"></i><b>2.2.5</b> $DASHBOARDS_FOLDER/dashboards_control/bin/docker_push_test_to_prod.sh</a></li>
<li class="chapter" data-level="2.2.6" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbinprod_down.sh"><i class="fa fa-check"></i><b>2.2.6</b> $DASHBOARDS_FOLDER/dashboards_control/bin/prod_down.sh</a></li>
<li class="chapter" data-level="2.2.7" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbinprod_up.sh"><i class="fa fa-check"></i><b>2.2.7</b> $DASHBOARDS_FOLDER/dashboards_control/bin/prod_up.sh</a></li>
<li class="chapter" data-level="2.2.8" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbinprod_update.sh"><i class="fa fa-check"></i><b>2.2.8</b> $DASHBOARDS_FOLDER/dashboards_control/bin/prod_update.sh</a></li>
<li class="chapter" data-level="2.2.9" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbinpublic.sh"><i class="fa fa-check"></i><b>2.2.9</b> $DASHBOARDS_FOLDER/dashboards_control/bin/public.sh</a></li>
<li class="chapter" data-level="2.2.10" data-path="umbrella.html"><a href="umbrella.html#test_noispiah"><i class="fa fa-check"></i><b>2.2.10</b> $DASHBOARDS_FOLDER/dashboards_control/bin/test_noispiah.sh</a></li>
<li class="chapter" data-level="2.2.11" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbintest_normomo.sh"><i class="fa fa-check"></i><b>2.2.11</b> $DASHBOARDS_FOLDER/dashboards_control/bin/test_normomo.sh</a></li>
<li class="chapter" data-level="2.2.12" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbintest_sykdomspuls_log.sh"><i class="fa fa-check"></i><b>2.2.12</b> $DASHBOARDS_FOLDER/dashboards_control/bin/test_sykdomspuls_log.sh</a></li>
<li class="chapter" data-level="2.2.13" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbintest_sykdomspuls_pdf.sh"><i class="fa fa-check"></i><b>2.2.13</b> $DASHBOARDS_FOLDER/dashboards_control/bin/test_sykdomspuls_pdf.sh</a></li>
<li class="chapter" data-level="2.2.14" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlbintest_sykdomspuls.sh"><i class="fa fa-check"></i><b>2.2.14</b> $DASHBOARDS_FOLDER/dashboards_control/bin/test_sykdomspuls.sh</a></li>
<li class="chapter" data-level="2.2.15" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_radd_autofs.sh"><i class="fa fa-check"></i><b>2.2.15</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/add_autofs.sh</a></li>
<li class="chapter" data-level="2.2.16" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_radd_cron.sh"><i class="fa fa-check"></i><b>2.2.16</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/add_cron.sh</a></li>
<li class="chapter" data-level="2.2.17" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_rauto.mounts"><i class="fa fa-check"></i><b>2.2.17</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/auto.mounts</a></li>
<li class="chapter" data-level="2.2.18" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_rcrontab"><i class="fa fa-check"></i><b>2.2.18</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/crontab</a></li>
<li class="chapter" data-level="2.2.19" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_rdockerfile"><i class="fa fa-check"></i><b>2.2.19</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/Dockerfile</a></li>
<li class="chapter" data-level="2.2.20" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_remails_sykdomspuls_alert_test.xlsx"><i class="fa fa-check"></i><b>2.2.20</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/emails_sykdomspuls_alert_test.xlsx</a></li>
<li class="chapter" data-level="2.2.21" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_remails_sykdomspuls_alert.xlsx"><i class="fa fa-check"></i><b>2.2.21</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/emails_sykdomspuls_alert.xlsx</a></li>
<li class="chapter" data-level="2.2.22" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_remails.xlsx"><i class="fa fa-check"></i><b>2.2.22</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/emails.xlsx</a></li>
<li class="chapter" data-level="2.2.23" data-path="umbrella.html"><a href="umbrella.html#httroauth"><i class="fa fa-check"></i><b>2.2.23</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/httr-oauth_2017_09_17</a></li>
<li class="chapter" data-level="2.2.24" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_rmail.json"><i class="fa fa-check"></i><b>2.2.24</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/mail.json</a></li>
<li class="chapter" data-level="2.2.25" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_rrepo-key"><i class="fa fa-check"></i><b>2.2.25</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/repo-key</a></li>
<li class="chapter" data-level="2.2.26" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredashboards_rsecret.sh"><i class="fa fa-check"></i><b>2.2.26</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/dashboards_r/secret.sh</a></li>
<li class="chapter" data-level="2.2.27" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredocker-compose-api.yml"><i class="fa fa-check"></i><b>2.2.27</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/docker-compose-api.yml</a></li>
<li class="chapter" data-level="2.2.28" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredocker-compose-dev.yml"><i class="fa fa-check"></i><b>2.2.28</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/docker-compose-dev.yml</a></li>
<li class="chapter" data-level="2.2.29" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredocker-compose-prod.yml"><i class="fa fa-check"></i><b>2.2.29</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/docker-compose-prod.yml</a></li>
<li class="chapter" data-level="2.2.30" data-path="umbrella.html"><a href="umbrella.html#dashboards_folderdashboards_controlinfrastructuredocker-compose-test.yml"><i class="fa fa-check"></i><b>2.2.30</b> $DASHBOARDS_FOLDER/dashboards_control/infrastructure/docker-compose-test.yml</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="umbrella.html"><a href="umbrella.html#analysisdocker"><i class="fa fa-check"></i><b>2.3</b> Analysis Docker Image</a><ul>
<li class="chapter" data-level="2.3.1" data-path="umbrella.html"><a href="umbrella.html#images"><i class="fa fa-check"></i><b>2.3.1</b> Images</a></li>
<li class="chapter" data-level="2.3.2" data-path="umbrella.html"><a href="umbrella.html#automated-analysis-r-packages"><i class="fa fa-check"></i><b>2.3.2</b> Automated Analysis R Packages</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="umbrella.html"><a href="umbrella.html#travis"><i class="fa fa-check"></i><b>2.4</b> travis</a><ul>
<li class="chapter" data-level="2.4.1" data-path="umbrella.html"><a href="umbrella.html#internalfilestructure"><i class="fa fa-check"></i><b>2.4.1</b> File Structure</a></li>
<li class="chapter" data-level="2.4.2" data-path="umbrella.html"><a href="umbrella.html#cron"><i class="fa fa-check"></i><b>2.4.2</b> cron</a></li>
<li class="chapter" data-level="2.4.3" data-path="umbrella.html"><a href="umbrella.html#autofs"><i class="fa fa-check"></i><b>2.4.3</b> autofs</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="umbrella.html"><a href="umbrella.html#reverse-proxy-docker-image"><i class="fa fa-check"></i><b>2.5</b> Reverse Proxy Docker Image</a></li>
<li class="chapter" data-level="2.6" data-path="umbrella.html"><a href="umbrella.html#dockercompose"><i class="fa fa-check"></i><b>2.6</b> Docker Compose</a></li>
<li class="chapter" data-level="2.7" data-path="umbrella.html"><a href="umbrella.html#production-computer---smhb"><i class="fa fa-check"></i><b>2.7</b> Production Computer - smhb</a><ul>
<li class="chapter" data-level="2.7.1" data-path="umbrella.html"><a href="umbrella.html#crontab"><i class="fa fa-check"></i><b>2.7.1</b> crontab</a></li>
<li class="chapter" data-level="2.7.2" data-path="umbrella.html"><a href="umbrella.html#file-structure"><i class="fa fa-check"></i><b>2.7.2</b> File Structure</a></li>
<li class="chapter" data-level="2.7.3" data-path="umbrella.html"><a href="umbrella.html#explanation"><i class="fa fa-check"></i><b>2.7.3</b> Explanation</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="umbrella.html"><a href="umbrella.html#integrationtesting"><i class="fa fa-check"></i><b>2.8</b> Integration Testing Computer - linux</a><ul>
<li class="chapter" data-level="2.8.1" data-path="umbrella.html"><a href="umbrella.html#file-structure-1"><i class="fa fa-check"></i><b>2.8.1</b> File Structure</a></li>
<li class="chapter" data-level="2.8.2" data-path="umbrella.html"><a href="umbrella.html#explanation-1"><i class="fa fa-check"></i><b>2.8.2</b> Explanation</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="umbrella.html"><a href="umbrella.html#travis"><i class="fa fa-check"></i><b>2.9</b> Unit Testing - travis-ci</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-packages.html"><a href="r-packages.html"><i class="fa fa-check"></i><b>3</b> R packages</a><ul>
<li class="chapter" data-level="3.1" data-path="r-packages.html"><a href="r-packages.html#generic"><i class="fa fa-check"></i><b>3.1</b> Generic</a><ul>
<li class="chapter" data-level="3.1.1" data-path="r-packages.html"><a href="r-packages.html#overview"><i class="fa fa-check"></i><b>3.1.1</b> Overview</a></li>
<li class="chapter" data-level="3.1.2" data-path="r-packages.html"><a href="r-packages.html#requirements"><i class="fa fa-check"></i><b>3.1.2</b> Requirements</a></li>
<li class="chapter" data-level="3.1.3" data-path="r-packages.html"><a href="r-packages.html#deployment-via-travis-ci-and-drat"><i class="fa fa-check"></i><b>3.1.3</b> Deployment via travis-ci and drat</a></li>
<li class="chapter" data-level="3.1.4" data-path="r-packages.html"><a href="r-packages.html#integration-with-the-local-file-system"><i class="fa fa-check"></i><b>3.1.4</b> Integration with the local file system</a></li>
<li class="chapter" data-level="3.1.5" data-path="r-packages.html"><a href="r-packages.html#RunProcess"><i class="fa fa-check"></i><b>3.1.5</b> inst/src/RunProcess.R</a></li>
<li class="chapter" data-level="3.1.6" data-path="r-packages.html"><a href="r-packages.html#instsrcruntest.r"><i class="fa fa-check"></i><b>3.1.6</b> inst/src/RunTest.R</a></li>
<li class="chapter" data-level="3.1.7" data-path="r-packages.html"><a href="r-packages.html#Runsh"><i class="fa fa-check"></i><b>3.1.7</b> inst/bin/0_run.sh</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="contributingquickstart.html"><a href="contributingquickstart.html"><i class="fa fa-check"></i><b>4</b> Contributing/Quickstart</a><ul>
<li class="chapter" data-level="4.1" data-path="contributingquickstart.html"><a href="contributingquickstart.html#quickstart"><i class="fa fa-check"></i><b>4.1</b> Quickstart</a></li>
<li class="chapter" data-level="4.2" data-path="contributingquickstart.html"><a href="contributingquickstart.html#newautomatedanalysis"><i class="fa fa-check"></i><b>4.2</b> New Automated Analysis</a></li>
<li class="chapter" data-level="4.3" data-path="contributingquickstart.html"><a href="contributingquickstart.html#development-guidelines"><i class="fa fa-check"></i><b>4.3</b> Development guidelines</a></li>
<li class="chapter" data-level="4.4" data-path="contributingquickstart.html"><a href="contributingquickstart.html#code-style"><i class="fa fa-check"></i><b>4.4</b> Code style</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.fhi.no/" target="blank">www.fhi.no</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Dashboards project</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="contributingquickstart" class="section level1">
<h1><span class="header-section-number">4</span> Contributing/Quickstart</h1>
<div id="quickstart" class="section level2">
<h2><span class="header-section-number">4.1</span> Quickstart</h2>
<ol style="list-style-type: decimal">
<li>Create a project folder for your code (let us say <code>~/git/dashboards</code>). This folder will be accessible from inside your Docker container as <code>/dashboards/</code></li>
<li>Create a project folder for your data (let us say <code>~/data/</code>).</li>
<li>Clone the following repos inside <code>~/git/dashboards</code>:
<ul>
<li><a href="https://github.com/raubreywhite/dashboards_control/" class="uri">https://github.com/raubreywhite/dashboards_control/</a> (private)</li>
</ul></li>
<li>Fork the following repos, and then clone the forks to your computer inside <code>~/git/dashboards</code>:
<ul>
<li><a href="https://github.com/folkehelseinstituttet/dashboards/" class="uri">https://github.com/folkehelseinstituttet/dashboards/</a></li>
<li><a href="https://github.com/folkehelseinstituttet/dashboards_sykdomspuls/" class="uri">https://github.com/folkehelseinstituttet/dashboards_sykdomspuls/</a></li>
<li><a href="https://github.com/folkehelseinstituttet/dashboards_normomo/" class="uri">https://github.com/folkehelseinstituttet/dashboards_normomo/</a></li>
<li><a href="https://github.com/folkehelseinstituttet/dashboards_sykdomspuls_pdf/" class="uri">https://github.com/folkehelseinstituttet/dashboards_sykdomspuls_pdf/</a></li>
<li><a href="https://github.com/folkehelseinstituttet/dashboards_noispiah/" class="uri">https://github.com/folkehelseinstituttet/dashboards_noispiah/</a></li>
<li><a href="https://github.com/folkehelseinstituttet/dashboards_sykdomspuls_log/" class="uri">https://github.com/folkehelseinstituttet/dashboards_sykdomspuls_log/</a></li>
</ul></li>
<li>For each repo, add the folkehelseinstitutet repository as your upstream:</li>
</ol>
<pre><code>git remote add upstream https://github.com/folkehelseinstituttet/ORIGINAL_REPOSITORY.git</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>In your <code>~/.profile</code> add the following three lines:</li>
</ol>
<pre><code>export DASHBOARDS_DATA=~/data/
export DASHBOARDS_FOLDER=~/git/dashboards/
export PATH=$PATH:$DASHBOARDS_FOLDER/dashboards_control/bin/</code></pre>
<ol start="7" style="list-style-type: decimal">
<li>Build your Dockerfiles:</li>
</ol>
<pre><code>docker_build.sh</code></pre>
<ol start="8" style="list-style-type: decimal">
<li>A number of folders will have been automatically created (see below). Please put in your development datafiles into the appropriate <code>data_raw/</code> folder:</li>
</ol>
<pre><code>- $DASHBOARDS_DATA/
  |-- data_app/
    |-- sykdomspuls/
    |-- normomo/
    |-- sykdomspuls_log/
    |-- sykdomspuls_pdf/
  |-- data_clean/
    |-- sykdomspuls/
    |-- normomo/
    |-- sykdomspuls_log/
    |-- sykdomspuls_pdf/
  |-- data_raw/
    |-- sykdomspuls/
    |-- normomo/
    |-- sykdomspuls_log/
    |-- sykdomspuls_pdf/
  |-- results/
    |-- sykdomspuls/
    |-- normomo/
    |-- sykdomspuls_log/
    |-- sykdomspuls_pdf/</code></pre>
<p>9 Run your docker-compose:</p>
<pre><code>dev_up.sh</code></pre>
<ol start="10" style="list-style-type: decimal">
<li>Open a browser and go to <a href="http://localhost:8788/" class="uri">http://localhost:8788/</a></li>
<li>Login using <code>username=rstudio</code> and <code>password=rstudio1</code></li>
<li>Using the project menu, open the project corresponding to the automated analysis you are interested in. This should be located at <code>/dashboards/</code>.</li>
</ol>
</div>
<div id="newautomatedanalysis" class="section level2">
<h2><span class="header-section-number">4.2</span> New Automated Analysis</h2>
<p>This will walk you through the creation of a new automated analysis called “yyyy”.</p>
<ol style="list-style-type: decimal">
<li>Create a new repository on <a href="https://github.com/folkehelseinstituttet">folkehelseinstituttet</a> with the name <code>dashboards_yyyy</code>.</li>
<li>Fork this repository to your Github account</li>
<li>Clone the forked repository to <code>~/git/dashboards/dashboards_xxxx</code></li>
<li>Download <a href="https://github.com/folkehelseinstituttet/dashboards_xxxx">dashboards_template</a> and copy all of its contents into <code>~/git/dashboards/dashboards_yyyy</code></li>
<li>Edit the following files:
<ul>
<li><code>~/git/dashboards/dashboards_yyyy/DESCRIPTION</code> (<code>Package: xxxx</code> -&gt; <code>Package: yyyy</code>)</li>
<li><code>~/git/dashboards/dashboards_yyyy/tests/testthat.R</code> (<code>library(xxxx)</code>-&gt;<code>library(yyyy)</code>)</li>
<li><code>~/git/dashboards/dashboards_yyyy/.travis.yml</code> (<code>xxxx</code>-&gt;<code>yyyy</code>)</li>
<li><code>~/git/dashboards/dashboards_yyyy/inst/bin/0_run.sh</code> (<code>xxxx</code>-&gt;<code>yyyy</code>)</li>
<li><code>~/git/dashboards/dashboards_yyyy/inst/src/RunProcess.sh</code> (<code>xxxx</code>-&gt;<code>yyyy</code>)</li>
<li><code>~/git/dashboards/dashboards_yyyy/inst/src/RunTest.sh</code> (<code>xxxx</code>-&gt;<code>yyyy</code>)</li>
</ul></li>
<li>Ask Richard to log into travis-ci.com and add the <code>GITHUB_PAT</code> environmental variable to activate continuous integration for <code>yyyy</code></li>
<li>Submit pull requests and ensure that:
<ul>
<li>Everything works</li>
<li>The package is successfully build and included in <a href="https://github.com/folkehelseinstituttet/drat/tree/gh-pages/src/contrib" class="uri">https://github.com/folkehelseinstituttet/drat/tree/gh-pages/src/contrib</a></li>
</ul></li>
<li>Add your package under the secton “## DRAT PACKAGES FROM FHI” at <a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_r/Dockerfile" class="uri">https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_r/Dockerfile</a></li>
<li>Create the 4 folders <code>data_raw</code>, <code>data_clean</code>, <code>results</code>, <code>data_app</code> at <a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_r/Dockerfile" class="uri">https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_r/Dockerfile</a></li>
<li>Add your package’s <a href="r-packages.html#Runsh">0_run.sh</a> to <a href="https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_r/crontab" class="uri">https://github.com/raubreywhite/dashboards_control/blob/master/infrastructure/dashboards_r/crontab</a></li>
<li>Add your package’s <a href="umbrella.html#integrationtesting">test_yyyy.sh</a> to <code>Jenkins</code> on <code>Linux</code></li>
<li>Hope it works!</li>
</ol>
</div>
<div id="development-guidelines" class="section level2">
<h2><span class="header-section-number">4.3</span> Development guidelines</h2>
<p>We try to follow the <a href="https://guides.github.com/introduction/flow/">GitHub flow</a> for development.</p>
<ol style="list-style-type: decimal">
<li><p>If you have forked and cloned the project before and it has been a while since you worked on it, merge changes from the original repo to your clone by using:</p>
<pre><code>git fetch upstream
git merge upstream/master</code></pre></li>
<li>Open the RStudio project file (<code>.Rproj</code>).</li>
<li>Make your changes:
<ul>
<li>Write your code.</li>
<li>Test your code (bonus points for adding unit tests).</li>
<li>Document your code (see function documentation above).</li>
<li>Do an <code>R CMD check</code> using <code>devtools::check()</code> and aim for 0 errors and warnings.</li>
<li>Commit your changes locally</li>
<li>Merge changes from the original repo (again)</li>
<li>Do an <code>R CMD check</code> using <code>devtools::check()</code> and aim for 0 errors and warnings.</li>
</ul></li>
<li>Commit and push your changes.</li>
<li>Submit a <a href="https://guides.github.com/activities/forking/#making-a-pull-request">pull request</a>.</li>
<li><p>If you are reviewing the pull request, wait until the <a href="www.travis-ci.org">travis-ci</a> unit tests have finished</p></li>
</ol>
<p><img src="images/pull_request_before_checks.png" /><!-- --></p>
<ol start="7" style="list-style-type: decimal">
<li>Please make sure that the unit tests <code>PASS</code> before merging in!!</li>
</ol>
<p><img src="images/pull_request_checks_failed.png" /><!-- --></p>
</div>
<div id="code-style" class="section level2">
<h2><span class="header-section-number">4.4</span> Code style</h2>
<ul>
<li>Function names start with capital letters</li>
<li>Variable names start with small letters</li>
<li>Environments should be in ALL CAPS</li>
<li>Reference <a href="http://adv-r.had.co.nz/Style.html">Hadley’s style code</a></li>
<li>&lt;- is preferred over = for assignment</li>
<li>Indentation is with two spaces, not two or a tab. There should be no tabs in code files.</li>
<li>if () {} else {} constructions should always use full curly braces even when usage seems unnecessary from a clarity perspective.</li>
<li>TODO statements should be opened as GitHub issues with links to specific code files and code lines, rather than written inline.</li>
<li><p>Follow Hadley’s suggestion for aligning long functions with many arguments:</p>
<pre><code> long_function_name &lt;- function(a = &quot;a long argument&quot;, 
                            b = &quot;another argument&quot;,
                            c = &quot;another long argument&quot;) {
   # As usual code is indented by two spaces.
 }</code></pre></li>
<li>Never use print() to send text to the console. Instead use message(), warning(), and error() as appropriate.</li>
<li><p>Use environment variables, not options(), to store global arguments that are used by many or all functions.</p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-packages.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["website.pdf", "website.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
